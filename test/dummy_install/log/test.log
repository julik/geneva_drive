Generating image variants require the image_processing gem. Please add `gem "image_processing", "~> 1.2"` to your Gemfile or set `config.active_storage.variant_processor = :disabled`.
Generating image variants require the image_processing gem. Please add `gem "image_processing", "~> 1.2"` to your Gemfile or set `config.active_storage.variant_processor = :disabled`.
  [1m[36mActiveRecord::SchemaMigration Load (1.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.8ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35mSQL (0.0ms)[0m  [1m[35mSET search_path TO public[0m
  [1m[35m (121.7ms)[0m  [1m[35mDROP DATABASE IF EXISTS "geneva_drive_install_test"[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mSET search_path TO public[0m
  [1m[35m (83.9ms)[0m  [1m[35mCREATE DATABASE "geneva_drive_install_test" ENCODING = 'unicode'[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(5769190355348905590)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'test', '2025-12-18 02:40:49.766689', '2025-12-18 02:40:49.766690') RETURNING "key"[0m
Migrating to CreateUsers (20241217000000)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "email" character varying NOT NULL, "name" character varying, "active" boolean DEFAULT TRUE, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20241217000000') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateGenevaDriveWorkflows (20251218024048)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "geneva_drive_workflows" ("id" bigserial primary key, "type" character varying NOT NULL, "hero_type" character varying NOT NULL, "hero_id" bigint NOT NULL, "state" character varying DEFAULT 'ready' NOT NULL, "current_step_name" character varying, "allow_multiple" boolean DEFAULT FALSE NOT NULL, "started_at" timestamp(6), "transitioned_at" timestamp(6), "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_geneva_drive_workflows_on_type" ON "geneva_drive_workflows" ("type")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_geneva_drive_workflows_on_state" ON "geneva_drive_workflows" ("state")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_geneva_drive_workflows_on_hero_type_and_hero_id" ON "geneva_drive_workflows" ("hero_type", "hero_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35m        CREATE UNIQUE INDEX index_workflows_unique_ongoing
        ON geneva_drive_workflows (type, hero_type, hero_id)
        WHERE state NOT IN ('finished', 'canceled') AND allow_multiple = false;
[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20251218024048') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateGenevaDriveStepExecutions (20251218024049)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE TABLE "geneva_drive_step_executions" ("id" bigserial primary key, "workflow_id" bigint NOT NULL, "step_name" character varying NOT NULL, "state" character varying DEFAULT 'scheduled' NOT NULL, "outcome" character varying, "scheduled_for" timestamp(6) NOT NULL, "started_at" timestamp(6), "completed_at" timestamp(6), "failed_at" timestamp(6), "canceled_at" timestamp(6), "skipped_at" timestamp(6), "error_message" text, "error_backtrace" text, "job_id" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_714b91b701"
FOREIGN KEY ("workflow_id")
  REFERENCES "geneva_drive_workflows" ("id")
 ON DELETE CASCADE)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_geneva_drive_step_executions_on_workflow_id" ON "geneva_drive_step_executions" ("workflow_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_geneva_drive_step_executions_on_state" ON "geneva_drive_step_executions" ("state")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_geneva_drive_step_executions_on_scheduled_for" ON "geneva_drive_step_executions" ("scheduled_for")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_step_executions_scheduled" ON "geneva_drive_step_executions" ("state", "scheduled_for")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "idx_on_workflow_id_created_at_af16a14fb2" ON "geneva_drive_step_executions" ("workflow_id", "created_at")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_geneva_drive_step_executions_on_workflow_id_and_state" ON "geneva_drive_step_executions" ("workflow_id", "state")[0m
  [1m[35m (0.2ms)[0m  [1m[35m        CREATE UNIQUE INDEX index_step_executions_one_active
        ON geneva_drive_step_executions (workflow_id)
        WHERE state IN ('scheduled', 'in_progress');
[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20251218024049') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_advisory_unlock(5769190355348905590)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mSET search_path TO public[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mSET search_path TO "$user", public[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mSET search_path TO public[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mSET search_path TO "$user", public[0m
Generating image variants require the image_processing gem. Please add `gem "image_processing", "~> 1.2"` to your Gemfile or set `config.active_storage.variant_processor = :disabled`.
Generating image variants require the image_processing gem. Please add `gem "image_processing", "~> 1.2"` to your Gemfile or set `config.active_storage.variant_processor = :disabled`.
Generating image variants require the image_processing gem. Please add `gem "image_processing", "~> 1.2"` to your Gemfile or set `config.active_storage.variant_processor = :disabled`.
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.9ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35mSQL (0.1ms)[0m  [1m[35mSET search_path TO public[0m
  [1m[35m (230.5ms)[0m  [1m[35mDROP DATABASE IF EXISTS "geneva_drive_install_test"[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mSET search_path TO public[0m
  [1m[35m (75.1ms)[0m  [1m[35mCREATE DATABASE "geneva_drive_install_test" ENCODING = 'unicode'[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(5769190355348905590)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'test', '2025-12-18 02:57:55.217763', '2025-12-18 02:57:55.217765') RETURNING "key"[0m
Migrating to CreateUsers (20241217000000)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "email" character varying NOT NULL, "name" character varying, "active" boolean DEFAULT TRUE, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20241217000000') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateGenevaDriveWorkflows (20251218025754)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "geneva_drive_workflows" ("id" bigserial primary key, "type" character varying NOT NULL, "hero_type" character varying NOT NULL, "hero_id" bigint NOT NULL, "state" character varying DEFAULT 'ready' NOT NULL, "current_step_name" character varying, "allow_multiple" boolean DEFAULT FALSE NOT NULL, "started_at" timestamp(6), "transitioned_at" timestamp(6), "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_geneva_drive_workflows_on_type" ON "geneva_drive_workflows" ("type")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_geneva_drive_workflows_on_state" ON "geneva_drive_workflows" ("state")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_geneva_drive_workflows_on_hero_type_and_hero_id" ON "geneva_drive_workflows" ("hero_type", "hero_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35m        CREATE UNIQUE INDEX index_workflows_unique_ongoing
        ON geneva_drive_workflows (type, hero_type, hero_id)
        WHERE state NOT IN ('finished', 'canceled') AND allow_multiple = false;
[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20251218025754') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateGenevaDriveStepExecutions (20251218025755)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE TABLE "geneva_drive_step_executions" ("id" bigserial primary key, "workflow_id" bigint NOT NULL, "step_name" character varying NOT NULL, "state" character varying DEFAULT 'scheduled' NOT NULL, "outcome" character varying, "scheduled_for" timestamp(6) NOT NULL, "started_at" timestamp(6), "completed_at" timestamp(6), "failed_at" timestamp(6), "canceled_at" timestamp(6), "skipped_at" timestamp(6), "error_message" text, "error_backtrace" text, "job_id" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_714b91b701"
FOREIGN KEY ("workflow_id")
  REFERENCES "geneva_drive_workflows" ("id")
 ON DELETE CASCADE)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_geneva_drive_step_executions_on_workflow_id" ON "geneva_drive_step_executions" ("workflow_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_geneva_drive_step_executions_on_state" ON "geneva_drive_step_executions" ("state")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_geneva_drive_step_executions_on_scheduled_for" ON "geneva_drive_step_executions" ("scheduled_for")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_step_executions_scheduled" ON "geneva_drive_step_executions" ("state", "scheduled_for")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "idx_on_workflow_id_created_at_af16a14fb2" ON "geneva_drive_step_executions" ("workflow_id", "created_at")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_geneva_drive_step_executions_on_workflow_id_and_state" ON "geneva_drive_step_executions" ("workflow_id", "state")[0m
  [1m[35m (0.2ms)[0m  [1m[35m        CREATE UNIQUE INDEX index_step_executions_one_active
        ON geneva_drive_step_executions (workflow_id)
        WHERE state IN ('scheduled', 'in_progress');
[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20251218025755') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_advisory_unlock(5769190355348905590)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mSET search_path TO public[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mSET search_path TO "$user", public[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mSET search_path TO public[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mSET search_path TO "$user", public[0m
Generating image variants require the image_processing gem. Please add `gem "image_processing", "~> 1.2"` to your Gemfile or set `config.active_storage.variant_processor = :disabled`.
Generating image variants require the image_processing gem. Please add `gem "image_processing", "~> 1.2"` to your Gemfile or set `config.active_storage.variant_processor = :disabled`.
Generating image variants require the image_processing gem. Please add `gem "image_processing", "~> 1.2"` to your Gemfile or set `config.active_storage.variant_processor = :disabled`.
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35mSQL (0.1ms)[0m  [1m[35mSET search_path TO public[0m
  [1m[35m (85.6ms)[0m  [1m[35mDROP DATABASE IF EXISTS "geneva_drive_install_test"[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mSET search_path TO public[0m
  [1m[35m (88.2ms)[0m  [1m[35mCREATE DATABASE "geneva_drive_install_test" ENCODING = 'unicode'[0m
  [1m[35m (1.8ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(5769190355348905590)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'test', '2025-12-18 03:06:09.454877', '2025-12-18 03:06:09.454878') RETURNING "key"[0m
Migrating to CreateUsers (20241217000000)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "email" character varying NOT NULL, "name" character varying, "active" boolean DEFAULT TRUE, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20241217000000') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateGenevaDriveWorkflows (20251218030608)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "geneva_drive_workflows" ("id" bigserial primary key, "type" character varying NOT NULL, "hero_type" character varying NOT NULL, "hero_id" bigint NOT NULL, "state" character varying DEFAULT 'ready' NOT NULL, "current_step_name" character varying, "allow_multiple" boolean DEFAULT FALSE NOT NULL, "started_at" timestamp(6), "transitioned_at" timestamp(6), "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_geneva_drive_workflows_on_type" ON "geneva_drive_workflows" ("type")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_geneva_drive_workflows_on_state" ON "geneva_drive_workflows" ("state")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_geneva_drive_workflows_on_hero_type_and_hero_id" ON "geneva_drive_workflows" ("hero_type", "hero_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35m        CREATE UNIQUE INDEX index_workflows_unique_ongoing
        ON geneva_drive_workflows (type, hero_type, hero_id)
        WHERE state NOT IN ('finished', 'canceled') AND allow_multiple = false;
[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20251218030608') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateGenevaDriveStepExecutions (20251218030609)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE TABLE "geneva_drive_step_executions" ("id" bigserial primary key, "workflow_id" bigint NOT NULL, "step_name" character varying NOT NULL, "state" character varying DEFAULT 'scheduled' NOT NULL, "outcome" character varying, "scheduled_for" timestamp(6) NOT NULL, "started_at" timestamp(6), "completed_at" timestamp(6), "failed_at" timestamp(6), "canceled_at" timestamp(6), "skipped_at" timestamp(6), "error_message" text, "error_backtrace" text, "job_id" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_714b91b701"
FOREIGN KEY ("workflow_id")
  REFERENCES "geneva_drive_workflows" ("id")
 ON DELETE CASCADE)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_geneva_drive_step_executions_on_workflow_id" ON "geneva_drive_step_executions" ("workflow_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_geneva_drive_step_executions_on_state" ON "geneva_drive_step_executions" ("state")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_geneva_drive_step_executions_on_scheduled_for" ON "geneva_drive_step_executions" ("scheduled_for")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_step_executions_scheduled" ON "geneva_drive_step_executions" ("state", "scheduled_for")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "idx_on_workflow_id_created_at_af16a14fb2" ON "geneva_drive_step_executions" ("workflow_id", "created_at")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_geneva_drive_step_executions_on_workflow_id_and_state" ON "geneva_drive_step_executions" ("workflow_id", "state")[0m
  [1m[35m (0.3ms)[0m  [1m[35m        CREATE UNIQUE INDEX index_step_executions_one_active
        ON geneva_drive_step_executions (workflow_id)
        WHERE state IN ('scheduled', 'in_progress');
[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20251218030609') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_advisory_unlock(5769190355348905590)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mSET search_path TO public[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mSET search_path TO "$user", public[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mSET search_path TO public[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mSET search_path TO "$user", public[0m
Generating image variants require the image_processing gem. Please add `gem "image_processing", "~> 1.2"` to your Gemfile or set `config.active_storage.variant_processor = :disabled`.
Generating image variants require the image_processing gem. Please add `gem "image_processing", "~> 1.2"` to your Gemfile or set `config.active_storage.variant_processor = :disabled`.
Generating image variants require the image_processing gem. Please add `gem "image_processing", "~> 1.2"` to your Gemfile or set `config.active_storage.variant_processor = :disabled`.
  [1m[36mActiveRecord::SchemaMigration Load (3.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.9ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35mSQL (0.1ms)[0m  [1m[35mSET search_path TO public[0m
  [1m[35m (95.7ms)[0m  [1m[35mDROP DATABASE IF EXISTS "geneva_drive_install_test"[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mSET search_path TO public[0m
  [1m[35m (39.5ms)[0m  [1m[35mCREATE DATABASE "geneva_drive_install_test" ENCODING = 'unicode'[0m
  [1m[35m (1.8ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT pg_try_advisory_lock(5769190355348905590)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'test', '2025-12-18 03:20:25.831021', '2025-12-18 03:20:25.831023') RETURNING "key"[0m
Migrating to CreateUsers (20241217000000)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "email" character varying NOT NULL, "name" character varying, "active" boolean DEFAULT TRUE, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20241217000000') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateGenevaDriveWorkflows (20251218032024)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "geneva_drive_workflows" ("id" bigserial primary key, "type" character varying NOT NULL, "hero_type" character varying NOT NULL, "hero_id" bigint NOT NULL, "state" character varying DEFAULT 'ready' NOT NULL, "current_step_name" character varying, "next_step_name" character varying, "allow_multiple" boolean DEFAULT FALSE NOT NULL, "started_at" timestamp(6), "transitioned_at" timestamp(6), "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_geneva_drive_workflows_on_type" ON "geneva_drive_workflows" ("type")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_geneva_drive_workflows_on_state" ON "geneva_drive_workflows" ("state")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_geneva_drive_workflows_on_hero_type_and_hero_id" ON "geneva_drive_workflows" ("hero_type", "hero_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35m        CREATE UNIQUE INDEX index_workflows_unique_ongoing
        ON geneva_drive_workflows (type, hero_type, hero_id)
        WHERE state NOT IN ('finished', 'canceled') AND allow_multiple = false;
[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20251218032024') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateGenevaDriveStepExecutions (20251218032025)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE TABLE "geneva_drive_step_executions" ("id" bigserial primary key, "workflow_id" bigint NOT NULL, "step_name" character varying NOT NULL, "state" character varying DEFAULT 'scheduled' NOT NULL, "outcome" character varying, "scheduled_for" timestamp(6) NOT NULL, "started_at" timestamp(6), "completed_at" timestamp(6), "failed_at" timestamp(6), "canceled_at" timestamp(6), "skipped_at" timestamp(6), "error_message" text, "error_backtrace" text, "job_id" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_714b91b701"
FOREIGN KEY ("workflow_id")
  REFERENCES "geneva_drive_workflows" ("id")
 ON DELETE CASCADE)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_geneva_drive_step_executions_on_workflow_id" ON "geneva_drive_step_executions" ("workflow_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_geneva_drive_step_executions_on_state" ON "geneva_drive_step_executions" ("state")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_geneva_drive_step_executions_on_scheduled_for" ON "geneva_drive_step_executions" ("scheduled_for")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_step_executions_scheduled" ON "geneva_drive_step_executions" ("state", "scheduled_for")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "idx_on_workflow_id_created_at_af16a14fb2" ON "geneva_drive_step_executions" ("workflow_id", "created_at")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_geneva_drive_step_executions_on_workflow_id_and_state" ON "geneva_drive_step_executions" ("workflow_id", "state")[0m
  [1m[35m (0.3ms)[0m  [1m[35m        CREATE UNIQUE INDEX index_step_executions_one_active
        ON geneva_drive_step_executions (workflow_id)
        WHERE state IN ('scheduled', 'in_progress');
[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20251218032025') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_advisory_unlock(5769190355348905590)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mSET search_path TO public[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mSET search_path TO "$user", public[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mSET search_path TO public[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mSET search_path TO "$user", public[0m
Generating image variants require the image_processing gem. Please add `gem "image_processing", "~> 1.2"` to your Gemfile or set `config.active_storage.variant_processor = :disabled`.
Generating image variants require the image_processing gem. Please add `gem "image_processing", "~> 1.2"` to your Gemfile or set `config.active_storage.variant_processor = :disabled`.
Generating image variants require the image_processing gem. Please add `gem "image_processing", "~> 1.2"` to your Gemfile or set `config.active_storage.variant_processor = :disabled`.
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35mSQL (0.1ms)[0m  [1m[35mSET search_path TO public[0m
  [1m[35m (80.9ms)[0m  [1m[35mDROP DATABASE IF EXISTS "geneva_drive_install_test"[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mSET search_path TO public[0m
  [1m[35m (39.8ms)[0m  [1m[35mCREATE DATABASE "geneva_drive_install_test" ENCODING = 'unicode'[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT pg_try_advisory_lock(5769190355348905590)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'test', '2025-12-18 03:21:03.806864', '2025-12-18 03:21:03.806865') RETURNING "key"[0m
Migrating to CreateUsers (20241217000000)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "email" character varying NOT NULL, "name" character varying, "active" boolean DEFAULT TRUE, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20241217000000') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateGenevaDriveWorkflows (20251218032102)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "geneva_drive_workflows" ("id" bigserial primary key, "type" character varying NOT NULL, "hero_type" character varying NOT NULL, "hero_id" bigint NOT NULL, "state" character varying DEFAULT 'ready' NOT NULL, "current_step_name" character varying, "next_step_name" character varying, "allow_multiple" boolean DEFAULT FALSE NOT NULL, "started_at" timestamp(6), "transitioned_at" timestamp(6), "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_geneva_drive_workflows_on_type" ON "geneva_drive_workflows" ("type")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_geneva_drive_workflows_on_state" ON "geneva_drive_workflows" ("state")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_geneva_drive_workflows_on_hero_type_and_hero_id" ON "geneva_drive_workflows" ("hero_type", "hero_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35m        CREATE UNIQUE INDEX index_workflows_unique_ongoing
        ON geneva_drive_workflows (type, hero_type, hero_id)
        WHERE state NOT IN ('finished', 'canceled') AND allow_multiple = false;
[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20251218032102') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateGenevaDriveStepExecutions (20251218032103)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE TABLE "geneva_drive_step_executions" ("id" bigserial primary key, "workflow_id" bigint NOT NULL, "step_name" character varying NOT NULL, "state" character varying DEFAULT 'scheduled' NOT NULL, "outcome" character varying, "scheduled_for" timestamp(6) NOT NULL, "started_at" timestamp(6), "completed_at" timestamp(6), "failed_at" timestamp(6), "canceled_at" timestamp(6), "skipped_at" timestamp(6), "error_message" text, "error_backtrace" text, "job_id" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_714b91b701"
FOREIGN KEY ("workflow_id")
  REFERENCES "geneva_drive_workflows" ("id")
 ON DELETE CASCADE)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_geneva_drive_step_executions_on_workflow_id" ON "geneva_drive_step_executions" ("workflow_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_geneva_drive_step_executions_on_state" ON "geneva_drive_step_executions" ("state")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_geneva_drive_step_executions_on_scheduled_for" ON "geneva_drive_step_executions" ("scheduled_for")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_step_executions_scheduled" ON "geneva_drive_step_executions" ("state", "scheduled_for")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "idx_on_workflow_id_created_at_af16a14fb2" ON "geneva_drive_step_executions" ("workflow_id", "created_at")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_geneva_drive_step_executions_on_workflow_id_and_state" ON "geneva_drive_step_executions" ("workflow_id", "state")[0m
  [1m[35m (0.3ms)[0m  [1m[35m        CREATE UNIQUE INDEX index_step_executions_one_active
        ON geneva_drive_step_executions (workflow_id)
        WHERE state IN ('scheduled', 'in_progress');
[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20251218032103') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_advisory_unlock(5769190355348905590)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mSET search_path TO public[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mSET search_path TO "$user", public[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mSET search_path TO public[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mSET search_path TO "$user", public[0m
Generating image variants require the image_processing gem. Please add `gem "image_processing", "~> 1.2"` to your Gemfile or set `config.active_storage.variant_processor = :disabled`.
Generating image variants require the image_processing gem. Please add `gem "image_processing", "~> 1.2"` to your Gemfile or set `config.active_storage.variant_processor = :disabled`.
Generating image variants require the image_processing gem. Please add `gem "image_processing", "~> 1.2"` to your Gemfile or set `config.active_storage.variant_processor = :disabled`.
  [1m[36mActiveRecord::SchemaMigration Load (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35mSQL (0.1ms)[0m  [1m[35mSET search_path TO public[0m
  [1m[35m (71.1ms)[0m  [1m[35mDROP DATABASE IF EXISTS "geneva_drive_install_test"[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mSET search_path TO public[0m
  [1m[35m (39.0ms)[0m  [1m[35mCREATE DATABASE "geneva_drive_install_test" ENCODING = 'unicode'[0m
  [1m[35m (2.0ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT pg_try_advisory_lock(5769190355348905590)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'test', '2025-12-18 03:21:41.125115', '2025-12-18 03:21:41.125116') RETURNING "key"[0m
Migrating to CreateUsers (20241217000000)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "email" character varying NOT NULL, "name" character varying, "active" boolean DEFAULT TRUE, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20241217000000') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateGenevaDriveWorkflows (20251218032140)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "geneva_drive_workflows" ("id" bigserial primary key, "type" character varying NOT NULL, "hero_type" character varying NOT NULL, "hero_id" bigint NOT NULL, "state" character varying DEFAULT 'ready' NOT NULL, "current_step_name" character varying, "next_step_name" character varying, "allow_multiple" boolean DEFAULT FALSE NOT NULL, "started_at" timestamp(6), "transitioned_at" timestamp(6), "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_geneva_drive_workflows_on_type" ON "geneva_drive_workflows" ("type")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_geneva_drive_workflows_on_state" ON "geneva_drive_workflows" ("state")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_geneva_drive_workflows_on_hero_type_and_hero_id" ON "geneva_drive_workflows" ("hero_type", "hero_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35m        CREATE UNIQUE INDEX index_workflows_unique_ongoing
        ON geneva_drive_workflows (type, hero_type, hero_id)
        WHERE state NOT IN ('finished', 'canceled') AND allow_multiple = false;
[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20251218032140') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateGenevaDriveStepExecutions (20251218032141)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE TABLE "geneva_drive_step_executions" ("id" bigserial primary key, "workflow_id" bigint NOT NULL, "step_name" character varying NOT NULL, "state" character varying DEFAULT 'scheduled' NOT NULL, "outcome" character varying, "scheduled_for" timestamp(6) NOT NULL, "started_at" timestamp(6), "completed_at" timestamp(6), "failed_at" timestamp(6), "canceled_at" timestamp(6), "skipped_at" timestamp(6), "error_message" text, "error_backtrace" text, "job_id" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_714b91b701"
FOREIGN KEY ("workflow_id")
  REFERENCES "geneva_drive_workflows" ("id")
 ON DELETE CASCADE)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_geneva_drive_step_executions_on_workflow_id" ON "geneva_drive_step_executions" ("workflow_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_geneva_drive_step_executions_on_state" ON "geneva_drive_step_executions" ("state")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_geneva_drive_step_executions_on_scheduled_for" ON "geneva_drive_step_executions" ("scheduled_for")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_step_executions_scheduled" ON "geneva_drive_step_executions" ("state", "scheduled_for")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "idx_on_workflow_id_created_at_af16a14fb2" ON "geneva_drive_step_executions" ("workflow_id", "created_at")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_geneva_drive_step_executions_on_workflow_id_and_state" ON "geneva_drive_step_executions" ("workflow_id", "state")[0m
  [1m[35m (0.3ms)[0m  [1m[35m        CREATE UNIQUE INDEX index_step_executions_one_active
        ON geneva_drive_step_executions (workflow_id)
        WHERE state IN ('scheduled', 'in_progress');
[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20251218032141') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_advisory_unlock(5769190355348905590)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mSET search_path TO public[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mSET search_path TO "$user", public[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mSET search_path TO public[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mSET search_path TO "$user", public[0m
Generating image variants require the image_processing gem. Please add `gem "image_processing", "~> 1.2"` to your Gemfile or set `config.active_storage.variant_processor = :disabled`.
Generating image variants require the image_processing gem. Please add `gem "image_processing", "~> 1.2"` to your Gemfile or set `config.active_storage.variant_processor = :disabled`.
Generating image variants require the image_processing gem. Please add `gem "image_processing", "~> 1.2"` to your Gemfile or set `config.active_storage.variant_processor = :disabled`.
  [1m[36mActiveRecord::SchemaMigration Load (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35mSQL (0.1ms)[0m  [1m[35mSET search_path TO public[0m
  [1m[35m (68.2ms)[0m  [1m[35mDROP DATABASE IF EXISTS "geneva_drive_install_test"[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mSET search_path TO public[0m
  [1m[35m (39.2ms)[0m  [1m[35mCREATE DATABASE "geneva_drive_install_test" ENCODING = 'unicode'[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT pg_try_advisory_lock(5769190355348905590)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'test', '2025-12-18 03:23:39.832692', '2025-12-18 03:23:39.832693') RETURNING "key"[0m
Migrating to CreateUsers (20241217000000)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "email" character varying NOT NULL, "name" character varying, "active" boolean DEFAULT TRUE, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20241217000000') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateGenevaDriveWorkflows (20251218032338)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "geneva_drive_workflows" ("id" bigserial primary key, "type" character varying NOT NULL, "hero_type" character varying NOT NULL, "hero_id" bigint NOT NULL, "state" character varying DEFAULT 'ready' NOT NULL, "current_step_name" character varying, "next_step_name" character varying, "allow_multiple" boolean DEFAULT FALSE NOT NULL, "started_at" timestamp(6), "transitioned_at" timestamp(6), "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_geneva_drive_workflows_on_type" ON "geneva_drive_workflows" ("type")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_geneva_drive_workflows_on_state" ON "geneva_drive_workflows" ("state")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_geneva_drive_workflows_on_hero_type_and_hero_id" ON "geneva_drive_workflows" ("hero_type", "hero_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35m        CREATE UNIQUE INDEX index_workflows_unique_ongoing
        ON geneva_drive_workflows (type, hero_type, hero_id)
        WHERE state NOT IN ('finished', 'canceled') AND allow_multiple = false;
[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20251218032338') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateGenevaDriveStepExecutions (20251218032339)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE TABLE "geneva_drive_step_executions" ("id" bigserial primary key, "workflow_id" bigint NOT NULL, "step_name" character varying NOT NULL, "state" character varying DEFAULT 'scheduled' NOT NULL, "outcome" character varying, "scheduled_for" timestamp(6) NOT NULL, "started_at" timestamp(6), "completed_at" timestamp(6), "failed_at" timestamp(6), "canceled_at" timestamp(6), "skipped_at" timestamp(6), "error_message" text, "error_backtrace" text, "job_id" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_714b91b701"
FOREIGN KEY ("workflow_id")
  REFERENCES "geneva_drive_workflows" ("id")
 ON DELETE CASCADE)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_geneva_drive_step_executions_on_workflow_id" ON "geneva_drive_step_executions" ("workflow_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_geneva_drive_step_executions_on_state" ON "geneva_drive_step_executions" ("state")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_geneva_drive_step_executions_on_scheduled_for" ON "geneva_drive_step_executions" ("scheduled_for")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_step_executions_scheduled" ON "geneva_drive_step_executions" ("state", "scheduled_for")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "idx_on_workflow_id_created_at_af16a14fb2" ON "geneva_drive_step_executions" ("workflow_id", "created_at")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_geneva_drive_step_executions_on_workflow_id_and_state" ON "geneva_drive_step_executions" ("workflow_id", "state")[0m
  [1m[35m (0.3ms)[0m  [1m[35m        CREATE UNIQUE INDEX index_step_executions_one_active
        ON geneva_drive_step_executions (workflow_id)
        WHERE state IN ('scheduled', 'in_progress');
[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20251218032339') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_advisory_unlock(5769190355348905590)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mSET search_path TO public[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mSET search_path TO "$user", public[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mSET search_path TO public[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mSET search_path TO "$user", public[0m
Generating image variants require the image_processing gem. Please add `gem "image_processing", "~> 1.2"` to your Gemfile or set `config.active_storage.variant_processor = :disabled`.
Generating image variants require the image_processing gem. Please add `gem "image_processing", "~> 1.2"` to your Gemfile or set `config.active_storage.variant_processor = :disabled`.
Generating image variants require the image_processing gem. Please add `gem "image_processing", "~> 1.2"` to your Gemfile or set `config.active_storage.variant_processor = :disabled`.
  [1m[36mActiveRecord::SchemaMigration Load (1.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35mSQL (0.1ms)[0m  [1m[35mSET search_path TO public[0m
  [1m[35m (226.1ms)[0m  [1m[35mDROP DATABASE IF EXISTS "geneva_drive_install_test"[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mSET search_path TO public[0m
  [1m[35m (83.6ms)[0m  [1m[35mCREATE DATABASE "geneva_drive_install_test" ENCODING = 'unicode'[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT pg_try_advisory_lock(5769190355348905590)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'test', '2025-12-18 03:37:00.626818', '2025-12-18 03:37:00.626819') RETURNING "key"[0m
Migrating to CreateUsers (20241217000000)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "email" character varying NOT NULL, "name" character varying, "active" boolean DEFAULT TRUE, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20241217000000') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateGenevaDriveWorkflows (20251218033659)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "geneva_drive_workflows" ("id" bigserial primary key, "type" character varying NOT NULL, "hero_type" character varying NOT NULL, "hero_id" bigint NOT NULL, "state" character varying DEFAULT 'ready' NOT NULL, "current_step_name" character varying, "next_step_name" character varying, "allow_multiple" boolean DEFAULT FALSE NOT NULL, "started_at" timestamp(6), "transitioned_at" timestamp(6), "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_geneva_drive_workflows_on_type" ON "geneva_drive_workflows" ("type")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_geneva_drive_workflows_on_state" ON "geneva_drive_workflows" ("state")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_geneva_drive_workflows_on_hero_type_and_hero_id" ON "geneva_drive_workflows" ("hero_type", "hero_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35m        CREATE UNIQUE INDEX index_workflows_unique_ongoing
        ON geneva_drive_workflows (type, hero_type, hero_id)
        WHERE state NOT IN ('finished', 'canceled') AND allow_multiple = false;
[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20251218033659') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateGenevaDriveStepExecutions (20251218033660)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE TABLE "geneva_drive_step_executions" ("id" bigserial primary key, "workflow_id" bigint NOT NULL, "step_name" character varying NOT NULL, "state" character varying DEFAULT 'scheduled' NOT NULL, "outcome" character varying, "scheduled_for" timestamp(6) NOT NULL, "started_at" timestamp(6), "completed_at" timestamp(6), "failed_at" timestamp(6), "canceled_at" timestamp(6), "skipped_at" timestamp(6), "error_message" text, "error_backtrace" text, "job_id" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_714b91b701"
FOREIGN KEY ("workflow_id")
  REFERENCES "geneva_drive_workflows" ("id")
 ON DELETE CASCADE)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_geneva_drive_step_executions_on_workflow_id" ON "geneva_drive_step_executions" ("workflow_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_geneva_drive_step_executions_on_state" ON "geneva_drive_step_executions" ("state")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_geneva_drive_step_executions_on_scheduled_for" ON "geneva_drive_step_executions" ("scheduled_for")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_step_executions_scheduled" ON "geneva_drive_step_executions" ("state", "scheduled_for")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "idx_on_workflow_id_created_at_af16a14fb2" ON "geneva_drive_step_executions" ("workflow_id", "created_at")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_geneva_drive_step_executions_on_workflow_id_and_state" ON "geneva_drive_step_executions" ("workflow_id", "state")[0m
  [1m[35m (0.3ms)[0m  [1m[35m        CREATE UNIQUE INDEX index_step_executions_one_active
        ON geneva_drive_step_executions (workflow_id)
        WHERE state IN ('scheduled', 'in_progress');
[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20251218033660') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_advisory_unlock(5769190355348905590)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mSET search_path TO public[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mSET search_path TO "$user", public[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mSET search_path TO public[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mSET search_path TO "$user", public[0m
Generating image variants require the image_processing gem. Please add `gem "image_processing", "~> 1.2"` to your Gemfile or set `config.active_storage.variant_processor = :disabled`.
Generating image variants require the image_processing gem. Please add `gem "image_processing", "~> 1.2"` to your Gemfile or set `config.active_storage.variant_processor = :disabled`.
Generating image variants require the image_processing gem. Please add `gem "image_processing", "~> 1.2"` to your Gemfile or set `config.active_storage.variant_processor = :disabled`.
  [1m[36mActiveRecord::SchemaMigration Load (1.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35mSQL (0.1ms)[0m  [1m[35mSET search_path TO public[0m
  [1m[35m (84.3ms)[0m  [1m[35mDROP DATABASE IF EXISTS "geneva_drive_install_test"[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mSET search_path TO public[0m
  [1m[35m (41.8ms)[0m  [1m[35mCREATE DATABASE "geneva_drive_install_test" ENCODING = 'unicode'[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(5769190355348905590)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'test', '2025-12-18 03:37:36.925441', '2025-12-18 03:37:36.925442') RETURNING "key"[0m
Migrating to CreateUsers (20241217000000)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "email" character varying NOT NULL, "name" character varying, "active" boolean DEFAULT TRUE, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20241217000000') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateGenevaDriveWorkflows (20251218033735)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "geneva_drive_workflows" ("id" bigserial primary key, "type" character varying NOT NULL, "hero_type" character varying NOT NULL, "hero_id" bigint NOT NULL, "state" character varying DEFAULT 'ready' NOT NULL, "current_step_name" character varying, "next_step_name" character varying, "allow_multiple" boolean DEFAULT FALSE NOT NULL, "started_at" timestamp(6), "transitioned_at" timestamp(6), "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_geneva_drive_workflows_on_type" ON "geneva_drive_workflows" ("type")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_geneva_drive_workflows_on_state" ON "geneva_drive_workflows" ("state")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_geneva_drive_workflows_on_hero_type_and_hero_id" ON "geneva_drive_workflows" ("hero_type", "hero_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35m        CREATE UNIQUE INDEX index_workflows_unique_ongoing
        ON geneva_drive_workflows (type, hero_type, hero_id)
        WHERE state NOT IN ('finished', 'canceled') AND allow_multiple = false;
[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20251218033735') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateGenevaDriveStepExecutions (20251218033736)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE TABLE "geneva_drive_step_executions" ("id" bigserial primary key, "workflow_id" bigint NOT NULL, "step_name" character varying NOT NULL, "state" character varying DEFAULT 'scheduled' NOT NULL, "outcome" character varying, "scheduled_for" timestamp(6) NOT NULL, "started_at" timestamp(6), "completed_at" timestamp(6), "failed_at" timestamp(6), "canceled_at" timestamp(6), "skipped_at" timestamp(6), "error_message" text, "error_backtrace" text, "job_id" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_714b91b701"
FOREIGN KEY ("workflow_id")
  REFERENCES "geneva_drive_workflows" ("id")
 ON DELETE CASCADE)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_geneva_drive_step_executions_on_workflow_id" ON "geneva_drive_step_executions" ("workflow_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_geneva_drive_step_executions_on_state" ON "geneva_drive_step_executions" ("state")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_geneva_drive_step_executions_on_scheduled_for" ON "geneva_drive_step_executions" ("scheduled_for")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_step_executions_scheduled" ON "geneva_drive_step_executions" ("state", "scheduled_for")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "idx_on_workflow_id_created_at_af16a14fb2" ON "geneva_drive_step_executions" ("workflow_id", "created_at")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_geneva_drive_step_executions_on_workflow_id_and_state" ON "geneva_drive_step_executions" ("workflow_id", "state")[0m
  [1m[35m (0.3ms)[0m  [1m[35m        CREATE UNIQUE INDEX index_step_executions_one_active
        ON geneva_drive_step_executions (workflow_id)
        WHERE state IN ('scheduled', 'in_progress');
[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20251218033736') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_advisory_unlock(5769190355348905590)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mSET search_path TO public[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mSET search_path TO "$user", public[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mSET search_path TO public[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mSET search_path TO "$user", public[0m
Generating image variants require the image_processing gem. Please add `gem "image_processing", "~> 1.2"` to your Gemfile or set `config.active_storage.variant_processor = :disabled`.
Generating image variants require the image_processing gem. Please add `gem "image_processing", "~> 1.2"` to your Gemfile or set `config.active_storage.variant_processor = :disabled`.
Generating image variants require the image_processing gem. Please add `gem "image_processing", "~> 1.2"` to your Gemfile or set `config.active_storage.variant_processor = :disabled`.
  [1m[36mActiveRecord::SchemaMigration Load (1.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.9ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35mSQL (0.1ms)[0m  [1m[35mSET search_path TO public[0m
  [1m[35m (132.3ms)[0m  [1m[35mDROP DATABASE IF EXISTS "geneva_drive_install_test"[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mSET search_path TO public[0m
  [1m[35m (40.6ms)[0m  [1m[35mCREATE DATABASE "geneva_drive_install_test" ENCODING = 'unicode'[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT pg_try_advisory_lock(5769190355348905590)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'test', '2025-12-18 03:38:18.262659', '2025-12-18 03:38:18.262660') RETURNING "key"[0m
Migrating to CreateUsers (20241217000000)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "email" character varying NOT NULL, "name" character varying, "active" boolean DEFAULT TRUE, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20241217000000') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateGenevaDriveWorkflows (20251218033817)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "geneva_drive_workflows" ("id" bigserial primary key, "type" character varying NOT NULL, "hero_type" character varying NOT NULL, "hero_id" bigint NOT NULL, "state" character varying DEFAULT 'ready' NOT NULL, "current_step_name" character varying, "next_step_name" character varying, "allow_multiple" boolean DEFAULT FALSE NOT NULL, "started_at" timestamp(6), "transitioned_at" timestamp(6), "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_geneva_drive_workflows_on_type" ON "geneva_drive_workflows" ("type")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_geneva_drive_workflows_on_state" ON "geneva_drive_workflows" ("state")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_geneva_drive_workflows_on_hero_type_and_hero_id" ON "geneva_drive_workflows" ("hero_type", "hero_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35m        CREATE UNIQUE INDEX index_workflows_unique_ongoing
        ON geneva_drive_workflows (type, hero_type, hero_id)
        WHERE state NOT IN ('finished', 'canceled') AND allow_multiple = false;
[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20251218033817') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateGenevaDriveStepExecutions (20251218033818)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE TABLE "geneva_drive_step_executions" ("id" bigserial primary key, "workflow_id" bigint NOT NULL, "step_name" character varying NOT NULL, "state" character varying DEFAULT 'scheduled' NOT NULL, "outcome" character varying, "scheduled_for" timestamp(6) NOT NULL, "started_at" timestamp(6), "completed_at" timestamp(6), "failed_at" timestamp(6), "canceled_at" timestamp(6), "skipped_at" timestamp(6), "error_message" text, "error_backtrace" text, "job_id" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_714b91b701"
FOREIGN KEY ("workflow_id")
  REFERENCES "geneva_drive_workflows" ("id")
 ON DELETE CASCADE)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_geneva_drive_step_executions_on_workflow_id" ON "geneva_drive_step_executions" ("workflow_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_geneva_drive_step_executions_on_state" ON "geneva_drive_step_executions" ("state")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_geneva_drive_step_executions_on_scheduled_for" ON "geneva_drive_step_executions" ("scheduled_for")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_step_executions_scheduled" ON "geneva_drive_step_executions" ("state", "scheduled_for")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "idx_on_workflow_id_created_at_af16a14fb2" ON "geneva_drive_step_executions" ("workflow_id", "created_at")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_geneva_drive_step_executions_on_workflow_id_and_state" ON "geneva_drive_step_executions" ("workflow_id", "state")[0m
  [1m[35m (0.3ms)[0m  [1m[35m        CREATE UNIQUE INDEX index_step_executions_one_active
        ON geneva_drive_step_executions (workflow_id)
        WHERE state IN ('scheduled', 'in_progress');
[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20251218033818') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_advisory_unlock(5769190355348905590)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mSET search_path TO public[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mSET search_path TO "$user", public[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mSET search_path TO public[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mSET search_path TO "$user", public[0m
Generating image variants require the image_processing gem. Please add `gem "image_processing", "~> 1.2"` to your Gemfile or set `config.active_storage.variant_processor = :disabled`.
Generating image variants require the image_processing gem. Please add `gem "image_processing", "~> 1.2"` to your Gemfile or set `config.active_storage.variant_processor = :disabled`.
Generating image variants require the image_processing gem. Please add `gem "image_processing", "~> 1.2"` to your Gemfile or set `config.active_storage.variant_processor = :disabled`.
  [1m[36mActiveRecord::SchemaMigration Load (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35mSQL (0.1ms)[0m  [1m[35mSET search_path TO public[0m
  [1m[35m (107.3ms)[0m  [1m[35mDROP DATABASE IF EXISTS "geneva_drive_install_test"[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mSET search_path TO public[0m
  [1m[35m (81.6ms)[0m  [1m[35mCREATE DATABASE "geneva_drive_install_test" ENCODING = 'unicode'[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT pg_try_advisory_lock(5769190355348905590)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'test', '2025-12-18 03:40:04.611483', '2025-12-18 03:40:04.611484') RETURNING "key"[0m
Migrating to CreateUsers (20241217000000)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "email" character varying NOT NULL, "name" character varying, "active" boolean DEFAULT TRUE, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20241217000000') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateGenevaDriveWorkflows (20251218034003)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "geneva_drive_workflows" ("id" bigserial primary key, "type" character varying NOT NULL, "hero_type" character varying NOT NULL, "hero_id" bigint NOT NULL, "state" character varying DEFAULT 'ready' NOT NULL, "current_step_name" character varying, "next_step_name" character varying, "allow_multiple" boolean DEFAULT FALSE NOT NULL, "started_at" timestamp(6), "transitioned_at" timestamp(6), "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_geneva_drive_workflows_on_type" ON "geneva_drive_workflows" ("type")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_geneva_drive_workflows_on_state" ON "geneva_drive_workflows" ("state")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_geneva_drive_workflows_on_hero_type_and_hero_id" ON "geneva_drive_workflows" ("hero_type", "hero_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35m        CREATE UNIQUE INDEX index_workflows_unique_ongoing
        ON geneva_drive_workflows (type, hero_type, hero_id)
        WHERE state NOT IN ('finished', 'canceled') AND allow_multiple = false;
[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20251218034003') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateGenevaDriveStepExecutions (20251218034004)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE TABLE "geneva_drive_step_executions" ("id" bigserial primary key, "workflow_id" bigint NOT NULL, "step_name" character varying NOT NULL, "state" character varying DEFAULT 'scheduled' NOT NULL, "outcome" character varying, "scheduled_for" timestamp(6) NOT NULL, "started_at" timestamp(6), "completed_at" timestamp(6), "failed_at" timestamp(6), "canceled_at" timestamp(6), "skipped_at" timestamp(6), "error_message" text, "error_backtrace" text, "job_id" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_714b91b701"
FOREIGN KEY ("workflow_id")
  REFERENCES "geneva_drive_workflows" ("id")
 ON DELETE CASCADE)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_geneva_drive_step_executions_on_workflow_id" ON "geneva_drive_step_executions" ("workflow_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_geneva_drive_step_executions_on_state" ON "geneva_drive_step_executions" ("state")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_geneva_drive_step_executions_on_scheduled_for" ON "geneva_drive_step_executions" ("scheduled_for")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_step_executions_scheduled" ON "geneva_drive_step_executions" ("state", "scheduled_for")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "idx_on_workflow_id_created_at_af16a14fb2" ON "geneva_drive_step_executions" ("workflow_id", "created_at")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_geneva_drive_step_executions_on_workflow_id_and_state" ON "geneva_drive_step_executions" ("workflow_id", "state")[0m
  [1m[35m (0.2ms)[0m  [1m[35m        CREATE UNIQUE INDEX index_step_executions_one_active
        ON geneva_drive_step_executions (workflow_id)
        WHERE state IN ('scheduled', 'in_progress');
[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20251218034004') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_advisory_unlock(5769190355348905590)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mSET search_path TO public[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mSET search_path TO "$user", public[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mSET search_path TO public[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mSET search_path TO "$user", public[0m
Generating image variants require the image_processing gem. Please add `gem "image_processing", "~> 1.2"` to your Gemfile or set `config.active_storage.variant_processor = :disabled`.
Generating image variants require the image_processing gem. Please add `gem "image_processing", "~> 1.2"` to your Gemfile or set `config.active_storage.variant_processor = :disabled`.
Generating image variants require the image_processing gem. Please add `gem "image_processing", "~> 1.2"` to your Gemfile or set `config.active_storage.variant_processor = :disabled`.
  [1m[36mActiveRecord::SchemaMigration Load (10.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.8ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35mSQL (0.1ms)[0m  [1m[35mSET search_path TO public[0m
  [1m[35m (84.1ms)[0m  [1m[35mDROP DATABASE IF EXISTS "geneva_drive_install_test"[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mSET search_path TO public[0m
  [1m[35m (40.2ms)[0m  [1m[35mCREATE DATABASE "geneva_drive_install_test" ENCODING = 'unicode'[0m
  [1m[35m (1.8ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT pg_try_advisory_lock(5769190355348905590)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'test', '2025-12-18 03:40:56.066439', '2025-12-18 03:40:56.066440') RETURNING "key"[0m
Migrating to CreateUsers (20241217000000)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "email" character varying NOT NULL, "name" character varying, "active" boolean DEFAULT TRUE, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20241217000000') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateGenevaDriveWorkflows (20251218034055)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "geneva_drive_workflows" ("id" bigserial primary key, "type" character varying NOT NULL, "hero_type" character varying NOT NULL, "hero_id" bigint NOT NULL, "state" character varying DEFAULT 'ready' NOT NULL, "current_step_name" character varying, "next_step_name" character varying, "allow_multiple" boolean DEFAULT FALSE NOT NULL, "started_at" timestamp(6), "transitioned_at" timestamp(6), "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_geneva_drive_workflows_on_type" ON "geneva_drive_workflows" ("type")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_geneva_drive_workflows_on_state" ON "geneva_drive_workflows" ("state")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_geneva_drive_workflows_on_hero_type_and_hero_id" ON "geneva_drive_workflows" ("hero_type", "hero_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35m        CREATE UNIQUE INDEX index_workflows_unique_ongoing
        ON geneva_drive_workflows (type, hero_type, hero_id)
        WHERE state NOT IN ('finished', 'canceled') AND allow_multiple = false;
[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20251218034055') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateGenevaDriveStepExecutions (20251218034056)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE TABLE "geneva_drive_step_executions" ("id" bigserial primary key, "workflow_id" bigint NOT NULL, "step_name" character varying NOT NULL, "state" character varying DEFAULT 'scheduled' NOT NULL, "outcome" character varying, "scheduled_for" timestamp(6) NOT NULL, "started_at" timestamp(6), "completed_at" timestamp(6), "failed_at" timestamp(6), "canceled_at" timestamp(6), "skipped_at" timestamp(6), "error_message" text, "error_backtrace" text, "job_id" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_714b91b701"
FOREIGN KEY ("workflow_id")
  REFERENCES "geneva_drive_workflows" ("id")
 ON DELETE CASCADE)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_geneva_drive_step_executions_on_workflow_id" ON "geneva_drive_step_executions" ("workflow_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_geneva_drive_step_executions_on_state" ON "geneva_drive_step_executions" ("state")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_geneva_drive_step_executions_on_scheduled_for" ON "geneva_drive_step_executions" ("scheduled_for")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_step_executions_scheduled" ON "geneva_drive_step_executions" ("state", "scheduled_for")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "idx_on_workflow_id_created_at_af16a14fb2" ON "geneva_drive_step_executions" ("workflow_id", "created_at")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_geneva_drive_step_executions_on_workflow_id_and_state" ON "geneva_drive_step_executions" ("workflow_id", "state")[0m
  [1m[35m (0.3ms)[0m  [1m[35m        CREATE UNIQUE INDEX index_step_executions_one_active
        ON geneva_drive_step_executions (workflow_id)
        WHERE state IN ('scheduled', 'in_progress');
[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20251218034056') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_advisory_unlock(5769190355348905590)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mSET search_path TO public[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mSET search_path TO "$user", public[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mSET search_path TO public[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mSET search_path TO "$user", public[0m
Generating image variants require the image_processing gem. Please add `gem "image_processing", "~> 1.2"` to your Gemfile or set `config.active_storage.variant_processor = :disabled`.
Generating image variants require the image_processing gem. Please add `gem "image_processing", "~> 1.2"` to your Gemfile or set `config.active_storage.variant_processor = :disabled`.
Generating image variants require the image_processing gem. Please add `gem "image_processing", "~> 1.2"` to your Gemfile or set `config.active_storage.variant_processor = :disabled`.
  [1m[36mActiveRecord::SchemaMigration Load (3.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (2.9ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35mSQL (0.1ms)[0m  [1m[35mSET search_path TO public[0m
  [1m[35m (103.8ms)[0m  [1m[35mDROP DATABASE IF EXISTS "geneva_drive_install_test"[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mSET search_path TO public[0m
  [1m[35m (52.0ms)[0m  [1m[35mCREATE DATABASE "geneva_drive_install_test" ENCODING = 'unicode'[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT pg_try_advisory_lock(5769190355348905590)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'test', '2025-12-18 12:53:38.851973', '2025-12-18 12:53:38.851974') RETURNING "key"[0m
Migrating to CreateUsers (20241217000000)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "email" character varying NOT NULL, "name" character varying, "active" boolean DEFAULT TRUE, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20241217000000') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateGenevaDriveWorkflows (20251218125337)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "geneva_drive_workflows" ("id" bigserial primary key, "type" character varying NOT NULL, "hero_type" character varying NOT NULL, "hero_id" bigint NOT NULL, "state" character varying DEFAULT 'ready' NOT NULL, "current_step_name" character varying, "next_step_name" character varying, "allow_multiple" boolean DEFAULT FALSE NOT NULL, "started_at" timestamp(6), "transitioned_at" timestamp(6), "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_geneva_drive_workflows_on_type" ON "geneva_drive_workflows" ("type")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_geneva_drive_workflows_on_state" ON "geneva_drive_workflows" ("state")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_geneva_drive_workflows_on_hero_type_and_hero_id" ON "geneva_drive_workflows" ("hero_type", "hero_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35m        CREATE UNIQUE INDEX index_geneva_drive_workflows_unique_ongoing
        ON geneva_drive_workflows (type, hero_type, hero_id)
        WHERE state NOT IN ('finished', 'canceled') AND allow_multiple = false;
[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20251218125337') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateGenevaDriveStepExecutions (20251218125338)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE TABLE "geneva_drive_step_executions" ("id" bigserial primary key, "workflow_id" bigint NOT NULL, "step_name" character varying NOT NULL, "state" character varying DEFAULT 'scheduled' NOT NULL, "outcome" character varying, "scheduled_for" timestamp(6) NOT NULL, "started_at" timestamp(6), "completed_at" timestamp(6), "failed_at" timestamp(6), "canceled_at" timestamp(6), "skipped_at" timestamp(6), "error_message" text, "error_backtrace" text, "job_id" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_714b91b701"
FOREIGN KEY ("workflow_id")
  REFERENCES "geneva_drive_workflows" ("id")
 ON DELETE CASCADE)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_geneva_drive_step_executions_on_workflow_id" ON "geneva_drive_step_executions" ("workflow_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_geneva_drive_step_executions_on_state" ON "geneva_drive_step_executions" ("state")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_geneva_drive_step_executions_on_scheduled_for" ON "geneva_drive_step_executions" ("scheduled_for")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_geneva_drive_step_executions_scheduled" ON "geneva_drive_step_executions" ("state", "scheduled_for")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "idx_on_workflow_id_created_at_af16a14fb2" ON "geneva_drive_step_executions" ("workflow_id", "created_at")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_geneva_drive_step_executions_on_workflow_id_and_state" ON "geneva_drive_step_executions" ("workflow_id", "state")[0m
  [1m[35m (0.4ms)[0m  [1m[35m        CREATE UNIQUE INDEX index_geneva_drive_step_executions_one_active
        ON geneva_drive_step_executions (workflow_id)
        WHERE state IN ('scheduled', 'in_progress');
[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20251218125338') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(5769190355348905590)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mSET search_path TO public[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mSET search_path TO "$user", public[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mSET search_path TO public[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mSET search_path TO "$user", public[0m
Generating image variants require the image_processing gem. Please add `gem "image_processing", "~> 1.2"` to your Gemfile or set `config.active_storage.variant_processor = :disabled`.
Generating image variants require the image_processing gem. Please add `gem "image_processing", "~> 1.2"` to your Gemfile or set `config.active_storage.variant_processor = :disabled`.
Generating image variants require the image_processing gem. Please add `gem "image_processing", "~> 1.2"` to your Gemfile or set `config.active_storage.variant_processor = :disabled`.
Generating image variants require the image_processing gem. Please add `gem "image_processing", "~> 1.2"` to your Gemfile or set `config.active_storage.variant_processor = :disabled`.
  [1m[36mActiveRecord::SchemaMigration Load (2.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.9ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35mSQL (0.0ms)[0m  [1m[35mSET search_path TO public[0m
  [1m[35m (115.0ms)[0m  [1m[35mDROP DATABASE IF EXISTS "geneva_drive_install_test"[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mSET search_path TO public[0m
  [1m[35m (89.1ms)[0m  [1m[35mCREATE DATABASE "geneva_drive_install_test" ENCODING = 'unicode'[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(5769190355348905590)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'test', '2025-12-18 13:14:49.086795', '2025-12-18 13:14:49.086797') RETURNING "key"[0m
Migrating to CreateUsers (20241217000000)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "email" character varying NOT NULL, "name" character varying, "active" boolean DEFAULT TRUE, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20241217000000') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateGenevaDriveWorkflows (20251218131447)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "geneva_drive_workflows" ("id" bigserial primary key, "type" character varying NOT NULL, "hero_type" character varying NOT NULL, "hero_id" bigint NOT NULL, "state" character varying DEFAULT 'ready' NOT NULL, "current_step_name" character varying, "next_step_name" character varying, "allow_multiple" boolean DEFAULT FALSE NOT NULL, "started_at" timestamp(6), "transitioned_at" timestamp(6), "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_geneva_drive_workflows_on_type" ON "geneva_drive_workflows" ("type")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_geneva_drive_workflows_on_state" ON "geneva_drive_workflows" ("state")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_geneva_drive_workflows_on_hero_type_and_hero_id" ON "geneva_drive_workflows" ("hero_type", "hero_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35m        CREATE UNIQUE INDEX index_geneva_drive_workflows_unique_ongoing
        ON geneva_drive_workflows (type, hero_type, hero_id)
        WHERE state NOT IN ('finished', 'canceled') AND allow_multiple = false;
[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20251218131447') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateGenevaDriveStepExecutions (20251218131448)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE TABLE "geneva_drive_step_executions" ("id" bigserial primary key, "workflow_id" bigint NOT NULL, "step_name" character varying NOT NULL, "state" character varying DEFAULT 'scheduled' NOT NULL, "outcome" character varying, "scheduled_for" timestamp(6) NOT NULL, "started_at" timestamp(6), "completed_at" timestamp(6), "failed_at" timestamp(6), "canceled_at" timestamp(6), "skipped_at" timestamp(6), "error_message" text, "error_backtrace" text, "job_id" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_714b91b701"
FOREIGN KEY ("workflow_id")
  REFERENCES "geneva_drive_workflows" ("id")
 ON DELETE CASCADE)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_geneva_drive_step_executions_on_workflow_id" ON "geneva_drive_step_executions" ("workflow_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_geneva_drive_step_executions_on_state" ON "geneva_drive_step_executions" ("state")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_geneva_drive_step_executions_on_scheduled_for" ON "geneva_drive_step_executions" ("scheduled_for")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_geneva_drive_step_executions_scheduled" ON "geneva_drive_step_executions" ("state", "scheduled_for")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "idx_on_workflow_id_created_at_af16a14fb2" ON "geneva_drive_step_executions" ("workflow_id", "created_at")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_geneva_drive_step_executions_on_workflow_id_and_state" ON "geneva_drive_step_executions" ("workflow_id", "state")[0m
  [1m[35m (0.3ms)[0m  [1m[35m        CREATE UNIQUE INDEX index_geneva_drive_step_executions_one_active
        ON geneva_drive_step_executions (workflow_id)
        WHERE state IN ('scheduled', 'in_progress');
[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20251218131448') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_advisory_unlock(5769190355348905590)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mSET search_path TO public[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mSET search_path TO "$user", public[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mSET search_path TO public[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mSET search_path TO "$user", public[0m
Generating image variants require the image_processing gem. Please add `gem "image_processing", "~> 1.2"` to your Gemfile or set `config.active_storage.variant_processor = :disabled`.
